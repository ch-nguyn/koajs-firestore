{"version":3,"sources":["../../src/middleware/checkInputTodo.js"],"names":["yup","checkCreateInput","ctx","next","body","request","schema","object","shape","text","string","required","trim","validate","e","status","success","errors","errorName","name"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,KAAhB;;AAEA,OAAO,MAAMC,mBAAmB,OAAOC,GAAP,EAAYC,IAAZ,KAAqB;AACnD,MAAI;AACF,UAAM,EAAEC,IAAF,KAAWF,IAAIG,OAArB;AACA,QAAIC,SAASN,IAAIO,MAAJ,GAAaC,KAAb,CAAmB;AAC9BC,YAAMT,IAAIU,MAAJ,GAAaC,QAAb,GAAwBC,IAAxB;AADwB,KAAnB,CAAb;;AAIA,UAAMN,OAAOO,QAAP,CAAgBT,IAAhB,CAAN;AACAD;AACD,GARD,CAQE,OAAOW,CAAP,EAAU;AACVZ,QAAIa,MAAJ,GAAa,GAAb;AACAb,QAAIE,IAAJ,GAAW;AACTY,eAAS,KADA;AAETC,cAAQH,EAAEG,MAFD;AAGTC,iBAAWJ,EAAEK;AAHJ,KAAX;AAKD;AACF,CAjBM","file":"checkInputTodo.js","sourcesContent":["import yup from \"yup\";\r\n\r\nexport const checkCreateInput = async (ctx, next) => {\r\n  try {\r\n    const { body } = ctx.request;\r\n    let schema = yup.object().shape({\r\n      text: yup.string().required().trim(),\r\n    });\r\n\r\n    await schema.validate(body);\r\n    next();\r\n  } catch (e) {\r\n    ctx.status = 400;\r\n    ctx.body = {\r\n      success: false,\r\n      errors: e.errors,\r\n      errorName: e.name,\r\n    };\r\n  }\r\n};\r\n"]}